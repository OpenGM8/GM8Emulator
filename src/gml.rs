pub mod ast;
pub mod compiler;
pub mod lexer;
pub mod rand;
pub mod token;

pub use compiler::Compiler;

pub const SELF: i32 = -1;
pub const OTHER: i32 = -2;
pub const ALL: i32 = -3;
pub const NOONE: i32 = -4;
pub const GLOBAL: i32 = -5;
pub const LOCAL: i32 = -7;

pub mod ev {
    pub const CREATE: usize = 0;
    pub const DESTROY: usize = 1;
    pub const ALARMS: usize = 2;
    pub const STEP: usize = 3;
    pub const COLLISION: usize = 4;
    pub const KEYBOARD: usize = 5;
    pub const MOUSE: usize = 6;
    pub const OTHER: usize = 7;
    pub const DRAW: usize = 8;
    pub const KEYPRESS: usize = 9;
    pub const KEYRELEASE: usize = 10;
    pub const TRIGGER: usize = 11;
}

#[derive(Debug)]
pub enum Value {
    Real(f64),
    String(String),
}

#[derive(Debug)]
pub enum Instruction {
    // TODO: GML runtime instructions
    InterpretationError { error: String },
}

/// Default numerical constants for GML
pub const CONSTANTS: [(&str, f64); 317] = [
    ("ANSI_CHARSET", 0.0f64),
    ("ARABIC_CHARSET", 178.0),
    ("BALTIC_CHARSET", 186.0),
    ("CHINESEBIG5_CHARSET", 136.0),
    ("DEFAULT_CHARSET", 1.0),
    ("EASTEUROPE_CHARSET", 238.0),
    ("GB2312_CHARSET", 134.0),
    ("GREEK_CHARSET", 161.0),
    ("HANGEUL_CHARSET", 129.0),
    ("HEBREW_CHARSET", 177.0),
    ("JOHAB_CHARSET", 130.0),
    ("MAC_CHARSET", 77.0),
    ("OEM_CHARSET", 255.0),
    ("RUSSIAN_CHARSET", 204.0),
    ("SHIFTJIS_CHARSET", 128.0),
    ("SYMBOL_CHARSET", 2.0),
    ("THAI_CHARSET", 222.0),
    ("TURKISH_CHARSET", 162.0),
    ("VIETNAMESE_CHARSET", 163.0),
    ("all", -3.0),
    ("bm_add", 1.0),
    ("bm_dest_alpha", 7.0),
    ("bm_dest_color", 9.0),
    ("bm_inv_dest_alpha", 8.0),
    ("bm_inv_dest_color", 10.0),
    ("bm_inv_src_alpha", 6.0),
    ("bm_inv_src_color", 4.0),
    ("bm_max", 2.0),
    ("bm_normal", 0.0),
    ("bm_one", 2.0),
    ("bm_src_alpha", 5.0),
    ("bm_src_alpha_sat", 11.0),
    ("bm_src_color", 3.0),
    ("bm_subtract", 3.0),
    ("bm_zero", 1.0),
    ("button_type", 1.0),
    ("c_aqua", 16776960.0),
    ("c_black", 0.0),
    ("c_blue", 16711680.0),
    ("c_dkgray", 4210752.0),
    ("c_fuchsia", 16711935.0),
    ("c_gray", 8421504.0),
    ("c_green", 32768.0),
    ("c_lime", 65280.0),
    ("c_ltgray", 12632256.0),
    ("c_maroon", 128.0),
    ("c_navy", 8388608.0),
    ("c_olive", 32896.0),
    ("c_orange", 4235519.0),
    ("c_purple", 8388736.0),
    ("c_red", 255.0),
    ("c_silver", 12632256.0),
    ("c_teal", 8421376.0),
    ("c_white", 16777215.0),
    ("c_yellow", 65535.0),
    ("cr_appstart", -19.0),
    ("cr_arrow", -2.0),
    ("cr_beam", -4.0),
    ("cr_cross", -3.0),
    ("cr_default", 0.0),
    ("cr_drag", -12.0),
    ("cr_handpoint", -21.0),
    ("cr_help", -20.0),
    ("cr_hourglass", -11.0),
    ("cr_hsplit", -14.0),
    ("cr_multidrag", -16.0),
    ("cr_no", -18.0),
    ("cr_nodrop", -13.0),
    ("cr_none", -1.0),
    ("cr_size_all", -22.0),
    ("cr_size_nesw", -6.0),
    ("cr_size_ns", -7.0),
    ("cr_size_nwse", -8.0),
    ("cr_size_we", -9.0),
    ("cr_sqlwait", -17.0),
    ("cr_uparrow", -10.0),
    ("cr_vsplit", -15.0),
    ("device_ios_ipad", 2.0),
    ("device_ios_iphone", 0.0),
    ("device_ios_iphone_retina", 1.0),
    ("dll_cdecl", 0.0),
    ("dll_stdcall", 1.0),
    ("ef_cloud", 9.0),
    ("ef_ellipse", 2.0),
    ("ef_explosion", 0.0),
    ("ef_firework", 3.0),
    ("ef_flare", 8.0),
    ("ef_rain", 10.0),
    ("ef_ring", 1.0),
    ("ef_smoke", 4.0),
    ("ef_smokeup", 5.0),
    ("ef_snow", 11.0),
    ("ef_spark", 7.0),
    ("ef_star", 6.0),
    ("ev_alarm", 2.0),
    ("ev_animation_end", 7.0),
    ("ev_boundary", 1.0),
    ("ev_close_button", 30.0),
    ("ev_collision", 4.0),
    ("ev_create", 0.0),
    ("ev_destroy", 1.0),
    ("ev_draw", 8.0),
    ("ev_end_of_path", 8.0),
    ("ev_game_end", 3.0),
    ("ev_game_start", 2.0),
    ("ev_global_left_button", 50.0),
    ("ev_global_left_press", 53.0),
    ("ev_global_left_release", 56.0),
    ("ev_global_middle_button", 52.0),
    ("ev_global_middle_press", 55.0),
    ("ev_global_middle_release", 58.0),
    ("ev_global_press", 12.0),
    ("ev_global_release", 13.0),
    ("ev_global_right_button", 51.0),
    ("ev_global_right_press", 54.0),
    ("ev_global_right_release", 57.0),
    ("ev_joystick1_button1", 21.0),
    ("ev_joystick1_button2", 22.0),
    ("ev_joystick1_button3", 23.0),
    ("ev_joystick1_button4", 24.0),
    ("ev_joystick1_button5", 25.0),
    ("ev_joystick1_button6", 26.0),
    ("ev_joystick1_button7", 27.0),
    ("ev_joystick1_button8", 28.0),
    ("ev_joystick1_down", 19.0),
    ("ev_joystick1_left", 16.0),
    ("ev_joystick1_right", 17.0),
    ("ev_joystick1_up", 18.0),
    ("ev_joystick2_button1", 36.0),
    ("ev_joystick2_button2", 37.0),
    ("ev_joystick2_button3", 38.0),
    ("ev_joystick2_button4", 39.0),
    ("ev_joystick2_button5", 40.0),
    ("ev_joystick2_button6", 41.0),
    ("ev_joystick2_button7", 42.0),
    ("ev_joystick2_button8", 43.0),
    ("ev_joystick2_down", 34.0),
    ("ev_joystick2_left", 31.0),
    ("ev_joystick2_right", 32.0),
    ("ev_joystick2_up", 33.0),
    ("ev_keyboard", 5.0),
    ("ev_keypress", 9.0),
    ("ev_keyrelease", 10.0),
    ("ev_left_button", 0.0),
    ("ev_left_press", 4.0),
    ("ev_left_release", 7.0),
    ("ev_middle_button", 2.0),
    ("ev_middle_press", 6.0),
    ("ev_middle_release", 9.0),
    ("ev_mouse", 6.0),
    ("ev_mouse_enter", 10.0),
    ("ev_mouse_leave", 11.0),
    ("ev_mouse_wheel_down", 61.0),
    ("ev_mouse_wheel_up", 60.0),
    ("ev_no_button", 3.0),
    ("ev_no_more_health", 9.0),
    ("ev_no_more_lives", 6.0),
    ("ev_other", 7.0),
    ("ev_outside", 0.0),
    ("ev_right_button", 1.0),
    ("ev_right_press", 5.0),
    ("ev_right_release", 8.0),
    ("ev_room_end", 5.0),
    ("ev_room_start", 4.0),
    ("ev_step", 3.0),
    ("ev_step_begin", 1.0),
    ("ev_step_end", 2.0),
    ("ev_step_normal", 0.0),
    ("ev_trigger", 11.0),
    ("ev_user0", 10.0),
    ("ev_user1", 11.0),
    ("ev_user10", 20.0),
    ("ev_user11", 21.0),
    ("ev_user12", 22.0),
    ("ev_user13", 23.0),
    ("ev_user14", 24.0),
    ("ev_user15", 25.0),
    ("ev_user2", 12.0),
    ("ev_user3", 13.0),
    ("ev_user4", 14.0),
    ("ev_user5", 15.0),
    ("ev_user6", 16.0),
    ("ev_user7", 17.0),
    ("ev_user8", 18.0),
    ("ev_user9", 19.0),
    ("fa_archive", 32.0),
    ("fa_bottom", 2.0),
    ("fa_center", 1.0),
    ("fa_directory", 16.0),
    ("fa_hidden", 2.0),
    ("fa_left", 0.0),
    ("fa_middle", 1.0),
    ("fa_readonly", 1.0),
    ("fa_right", 2.0),
    ("fa_sysfile", 4.0),
    ("fa_top", 0.0),
    ("fa_volumeid", 8.0),
    ("false", 0.0),
    ("global", -5.0),
    ("local", -7.0),
    ("mb_any", -1.0),
    ("mb_left", 1.0),
    ("mb_middle", 3.0),
    ("mb_none", 0.0),
    ("mb_right", 2.0),
    ("noone", -4.0),
    ("os_android", 5.0),
    ("os_ios", 4.0),
    ("os_macosx", 2.0),
    ("os_psp", 3.0),
    ("os_win32", 0.0),
    ("other", -2.0),
    ("pi", 3.141592654),
    ("pr_linelist", 2.0),
    ("pr_linestrip", 3.0),
    ("pr_pointlist", 1.0),
    ("pr_trianglefan", 6.0),
    ("pr_trianglelist", 4.0),
    ("pr_trianglestrip", 5.0),
    ("ps_change_all", 0.0),
    ("ps_change_motion", 2.0),
    ("ps_change_shape", 1.0),
    ("ps_deflect_horizontal", 1.0),
    ("ps_deflect_vertical", 0.0),
    ("ps_distr_gaussian", 1.0),
    ("ps_distr_invgaussian", 2.0),
    ("ps_distr_linear", 0.0),
    ("ps_force_constant", 0.0),
    ("ps_force_linear", 1.0),
    ("ps_force_quadratic", 2.0),
    ("ps_shape_diamond", 2.0),
    ("ps_shape_ellipse", 1.0),
    ("ps_shape_line", 3.0),
    ("ps_shape_rectangle", 0.0),
    ("pt_shape_circle", 5.0),
    ("pt_shape_cloud", 11.0),
    ("pt_shape_disk", 1.0),
    ("pt_shape_explosion", 10.0),
    ("pt_shape_flare", 8.0),
    ("pt_shape_line", 3.0),
    ("pt_shape_pixel", 0.0),
    ("pt_shape_ring", 6.0),
    ("pt_shape_smoke", 12.0),
    ("pt_shape_snow", 13.0),
    ("pt_shape_spark", 9.0),
    ("pt_shape_sphere", 7.0),
    ("pt_shape_square", 2.0),
    ("pt_shape_star", 4.0),
    ("se_chorus", 1.0),
    ("se_compressor", 32.0),
    ("se_echo", 2.0),
    ("se_equalizer", 64.0),
    ("se_flanger", 4.0),
    ("se_gargle", 8.0),
    ("se_none", 0.0),
    ("se_reverb", 16.0),
    ("self", -1.0),
    ("text_type", 0.0),
    ("true", 1.0),
    ("ty_real", 0.0),
    ("ty_string", 1.0),
    ("vk_add", 107.0),
    ("vk_alt", 18.0),
    ("vk_anykey", 1.0),
    ("vk_backspace", 8.0),
    ("vk_control", 17.0),
    ("vk_decimal", 110.0),
    ("vk_delete", 46.0),
    ("vk_divide", 111.0),
    ("vk_down", 40.0),
    ("vk_end", 35.0),
    ("vk_enter", 13.0),
    ("vk_escape", 27.0),
    ("vk_f1", 112.0),
    ("vk_f10", 121.0),
    ("vk_f11", 122.0),
    ("vk_f12", 123.0),
    ("vk_f2", 113.0),
    ("vk_f3", 114.0),
    ("vk_f4", 115.0),
    ("vk_f5", 116.0),
    ("vk_f6", 117.0),
    ("vk_f7", 118.0),
    ("vk_f8", 119.0),
    ("vk_f9", 120.0),
    ("vk_home", 36.0),
    ("vk_insert", 45.0),
    ("vk_lalt", 164.0),
    ("vk_lcontrol", 162.0),
    ("vk_left", 37.0),
    ("vk_lshift", 160.0),
    ("vk_multiply", 106.0),
    ("vk_nokey", 0.0),
    ("vk_numpad0", 96.0),
    ("vk_numpad1", 97.0),
    ("vk_numpad2", 98.0),
    ("vk_numpad3", 99.0),
    ("vk_numpad4", 100.0),
    ("vk_numpad5", 101.0),
    ("vk_numpad6", 102.0),
    ("vk_numpad7", 103.0),
    ("vk_numpad8", 104.0),
    ("vk_numpad9", 105.0),
    ("vk_pagedown", 34.0),
    ("vk_pageup", 33.0),
    ("vk_pause", 19.0),
    ("vk_printscreen", 44.0),
    ("vk_ralt", 165.0),
    ("vk_rcontrol", 163.0),
    ("vk_return", 13.0),
    ("vk_right", 39.0),
    ("vk_rshift", 161.0),
    ("vk_shift", 16.0),
    ("vk_space", 32.0),
    ("vk_subtract", 109.0),
    ("vk_tab", 9.0),
    ("vk_up", 38.0),
];
